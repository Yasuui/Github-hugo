{{ $profileImage := .Site.Params.profileImage }}
{{ $profileGif := .Site.Params.profileGif }}

<div class="profile-container">
  <div class="profile-image-wrapper">
    {{ if $profileGif }}
    <img 
      src="{{ $profileGif }}" 
      alt="Profile Picture" 
      class="profile-image profile-gif"
      loading="lazy"
      onmouseover="this.src='{{ $profileGif }}'"
      onmouseout="this.src='{{ $profileImage }}'"
    />
    {{ else }}
    <img 
      src="{{ $profileImage }}" 
      alt="Profile Picture" 
      class="profile-image"
      loading="lazy"
    />
    {{ end }}
  </div>
</div>

<style>
.profile-container {
  display: flex;
  justify-content: center;
  margin: 2rem 0;
}

.profile-image-wrapper {
  position: relative;
  width: 200px;
  height: 200px;
  border-radius: 50%;
  overflow: hidden;
  border: 3px solid var(--accent-color);
  box-shadow: var(--card-shadow);
}

.profile-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.profile-image:hover {
  transform: scale(1.05);
}

/* Optimize GIF performance */
.profile-gif {
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
}
</style>

<script>
// Optimize GIF loading
document.addEventListener('DOMContentLoaded', function() {
  const profileImage = document.querySelector('.profile-gif');
  if (profileImage) {
    // Preload the GIF
    const preloadImage = new Image();
    preloadImage.src = profileImage.getAttribute('onmouseover').match(/'([^']+)'/)[1];
  }
});
</script> 